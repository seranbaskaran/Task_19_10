let allPlayer=[
    {
        "player_id": 46141,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "wk",
        "playing11": true,
        "name": "Devon Conway",
        "team": "New Zealand",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 16609,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "bat",
        "playing11": true,
        "name": "Will Young",
        "team": "New Zealand",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 1081,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "ar",
        "playing11": true,
        "name": "Rachin Ravindra",
        "team": "New Zealand",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 16509,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "bat",
        "playing11": true,
        "name": "Daryl Mitchell",
        "team": "New Zealand",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 44185,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "(WK/C)",
        "role": "wk",
        "playing11": true,
        "name": "Tom Latham",
        "team": "New Zealand",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 1082,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "bat",
        "playing11": true,
        "name": "Glenn Phillips",
        "team": "New Zealand",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 1708,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "bat",
        "playing11": true,
        "name": "Mark Chapman",
        "team": "New Zealand",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 1923,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "ar",
        "playing11": true,
        "name": "Mitchell Santner",
        "team": "New Zealand",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 486,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "bowl",
        "playing11": true,
        "name": "Matt Henry",
        "team": "New Zealand",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 16643,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "bowl",
        "playing11": true,
        "name": "Lockie Ferguson",
        "team": "New Zealand",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 47,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "bowl",
        "playing11": true,
        "name": "Trent Boult",
        "team": "New Zealand",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 93570,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "(WK)",
        "role": "wk",
        "playing11": true,
        "name": "Rahmanullah Gurbaz",
        "team": "Afghanistan",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 45172,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "bat",
        "playing11": true,
        "name": "Ibrahim Zadran",
        "team": "Afghanistan",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 44977,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "bat",
        "playing11": true,
        "name": "Rahmat Shah",
        "team": "Afghanistan",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 44991,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "(C)",
        "role": "bat",
        "playing11": true,
        "name": "Hashmatullah Shahidi",
        "team": "Afghanistan",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 93481,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "ar",
        "playing11": true,
        "name": "Azmatullah Omarzai",
        "team": "Afghanistan",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 1153,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "wk",
        "playing11": true,
        "name": "Ikram Alikhil",
        "team": "Afghanistan",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 319,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "ar",
        "playing11": true,
        "name": "Mohammad Nabi",
        "team": "Afghanistan",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 1157,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "bowl",
        "playing11": true,
        "name": "Rashid Khan",
        "team": "Afghanistan",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 93418,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "bowl",
        "playing11": true,
        "name": "Mujeeb Ur Rahman",
        "team": "Afghanistan",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 1404,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "bowl",
        "playing11": true,
        "name": "Naveen-ul-Haq",
        "team": "Afghanistan",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    },
    {
        "player_id": 62778,
        "substitute": false,
        "out": false,
        "in": false,
        "role_str": "",
        "role": "bowl",
        "playing11": true,
        "name": "Fazalhaq Farooqi",
        "team": "Afghanistan",
        "visible": false,
        "captain": false,
        "vicecaptain": false
    }
];
let selectedPlayers = [];

function displayPlayersByRole(role) {
    const tableBody = document.getElementById('table-body');
    tableBody.innerHTML = '';
    roleFilters[role].forEach(player => {
        const row = document.createElement('tr');
        row.setAttribute('class', 'row1');
        row.addEventListener('click', () => {
            if(player.visible==true){
              player.visible=false;
              displayPlayersByRole(role);
              
              showPlayerInSection(allPlayer);
              row.style.backgroundColor='none';
              removePlayer(player);
              return;
            }
            player.visible=true;
            player.visible==true?row.style.backgroundColor='rgba(151,170,51,0.4)':row.style.backgroundColor='none'
            selectedPlayers.push(player);
            validateplayersCount();
            showPlayerInSection(allPlayer);
            //console.log(player)
        });
        player.visible==true?row.style.backgroundColor='rgba(151,170,51,0.4)':row.style.backgroundColor='none'
        const playerTypeImage = getPlayerTypeImage(player.role);
        const thumbUrl = player.team === "New Zealand" ? teamData.teama.thumb_url : teamData.teamb.thumb_url;
       
        row.innerHTML = `
            <td><img src="${thumbUrl}" alt="Player Image" width="50"></td>
            <td>${player.name}</td>
            <td>${player.player_id}</td>
            <td><img src="${playerTypeImage}"alt="Player Type" width="50"></td>
        `;
        tableBody.appendChild(row);
    });
}

function getPlayerTypeImage(playerRole) {
    switch (playerRole) {
        case 'ar':
            return "https://png.pngtree.com/png-clipart/20210225/ourmid/pngtree-wooden-cricket-bat-clipart-sporting-goods-png-image_2957536.png";
        case 'bat':
            return "https://images.vexels.com/media/users/3/316363/isolated/preview/02c4382e5d08daec77666410ddae3e6a-cricket-bat.png";
        case 'wk':
            return "https://cdn.iconscout.com/icon/premium/png-256-thumb/wicket-keeper-gloves-4399285-3757032.png?f=webp";
        case 'bowl':
            return "https://e7.pngegg.com/pngimages/488/27/png-clipart-cricket-balls-tennis-balls-stump-cricket-sport-sphere.png";
    }
}
function removePlayer(player) {
    const index = selectedPlayers.findIndex(p => {
      p.captain=false;
      p.vicecaptain=false;
      return p.player_id === player.player_id});
    if (index !== -1) {
        selectedPlayers.splice(index, 1);
    }
  }
  